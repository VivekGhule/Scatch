<%- include('./partials/header') %>

<!-- Wrapper -->
<div class="w-full min-h-screen flex flex-col md:flex-row px-4 md:px-16 pt-28 pb-10 bg-gray-50 gap-10">

  <!-- Sidebar -->
  <aside class="w-full md:w-1/4 bg-white rounded-2xl shadow-lg p-6 md:sticky md:top-28 h-fit">

    <!-- Sort Section -->
    <div class="mb-8">
      <h2 class="text-xl font-semibold text-gray-800 mb-3">Sort By</h2>
      <form action="/shop">
        <select 
          class="border border-gray-300 rounded-md w-full px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
          <option value="popular">Popular</option>
          <option value="newest">Newest</option>
        </select>
      </form>
    </div>

    <!-- Categories -->
    <div class="mb-8">
      <h2 class="text-xl font-semibold text-gray-800 mb-3">Categories</h2>
      <div class="flex flex-col space-y-2">
        <a class="text-gray-600 hover:text-indigo-600 transition" href="">New Collection</a>
        <a class="text-gray-600 hover:text-indigo-600 transition" href="">All Products</a>
        <a class="text-gray-600 hover:text-indigo-600 transition" href="">Discounted Products</a>
      </div>
    </div>

    <!-- Filters -->
    <div>
      <h2 class="text-xl font-semibold text-gray-800 mb-3">Filter By</h2>
      <div class="flex flex-col space-y-2">
        <a class="text-gray-600 hover:text-indigo-600 transition" href="">Availability</a>
        <a class="text-gray-600 hover:text-indigo-600 transition" href="">Discount</a>
      </div>
    </div>

  </aside>

  <!-- Products Grid -->
 <main class="w-full md:w-3/4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">

  <% products.forEach(function(product){ %>
    <div
      class="bg-white rounded-xl shadow-md overflow-hidden transform hover:-translate-y-2 hover:shadow-xl transition-all duration-300">

      <!-- Product Image -->
      <div class="w-full h-52 flex items-center justify-center bg-[<%= product.bgcolor %>] overflow-hidden">
        <img class="h-48 hover:scale-110 transition-transform duration-300"
             src="data:image/jpeg;base64,<%= product.image.toString('base64') %>" alt="">
      </div>

      <!-- Product Info -->
      <div
        class="flex justify-between bg-[<%= product.panelcolor %>] items-center px-4 py-4 text-[<%= product.textcolor %>]">
        <div>
          <h3 class="font-medium"><%= product.name %></h3>
          <h4 class="text-sm">â‚¹ <%= product.price %></h4>
        </div>
        <a class="w-8 h-8 flex items-center justify-center rounded-full bg-white shadow hover:scale-125 transition"
           href="">
          <i class="ri-add-line text-gray-800"></i>
        </a>
      </div>

    </div>
  <% }) %>

</main>


</div>

<%- include('./partials/footer') %>
